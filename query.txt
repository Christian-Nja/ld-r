ADAPTIVE MECHANISM

pattern|risorsa o risorse dominanti? -> istanza -> query1(?pattern, ?risorsaHook) -> (visualizzazione, query(?risorsaHook))

Dovremmo associare ad un pattern sempre con opla quali risorse sono necessarie per avere il pattern ?
La stessa visualizzazione potrebbe perdere di senso.

Es. time indexed typed location senza location specificata
    time indexed situation senza time


PREFIX opla: <http://ontologydesignpatterns.org/opla/>
select distinct ?member ?pattern ?memberClass where {
<https://w3id.org/arco/resource/TimeIndexedTypedLocationPattern1200530887-alternative-1> opla:isPatternInstanceOf ?pattern .
?member opla:belongsToPatternInstance <https://w3id.org/arco/resource/TimeIndexedTypedLocationPattern1200530887-alternative-1> ;
        rdf:type ?memberClass .
}

risorsa   -> (visualizzazione)
proprietà -> (visualizzazione)

?pattern  -> (visualizzazione, query(?risorsaHook)) #quale di tutte le risorse hasMemberOf


# mappare ?pattern ?proprietà ?risorsa a (visualizzazione, query)

data un istanza di un pattern cerca ?pattern per cui si ha una (visualizzazione, query)
se non c'è cerca quella più generica
se non ci sono visualizzazioni generiche cerca visualizzazioni per le componenti del pattern (es. TimeInterval) 
per cui si ha una visualizzazione [property:hasTimeInterval -> (timeInterval)
]
per le restanti proprietà usa il meccanismo LDR (visualizzazioni di ali per le proprietà)


esempio query. Query ha una risorsa hook intorno a cui va costruita la query per il pattern. 
quale scegliere di tutte le risorse che appartengono al pattern ?

"https://virtuoso.local/hasMusicalInstrumentCollection": {
    propertyReactor: ["OntologyDesignPattern"],
    customQuery: [
            "?collectionLabel ?entityLabel ?depiction",
            `<resourceURI> <${musicalInstrumentURIs.hasCollection}> ?collection . ?collection <${musicalInstrumentURIs.hasMember}> ?entity ; <http://www.w3.org/2000/01/rdf-schema#label> ?collectionLabel . ?entity <http://www.w3.org/2000/01/rdf-schema#label> ?entityLabel ; <http://xmlns.com/foaf/0.1/depiction> ?depiction . `,
            ""
            ],
    patternIViewer: "Collection"


